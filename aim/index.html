<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>Insert title here</title>
<script type="text/javascript">
	let d;//#timer
	let t;//#target
	let s;//#dist
	let x;//target.x
	let y;//target.y
	let m;//shot_@_ms
	let l;//target move distance
	let c;//target move count
	document.addEventListener("DOMContentLoaded", function() {
		d = document.getElementById('timer');
		t = document.getElementById('target');
		s = document.getElementById('dist');
		x = 475;
		y = 265;
		changeDistance();
		refresh();
	});
	function refresh() {
		t.style.left = x + 'px';
		t.style.top = y - 7.5 + 'px';
	}
	function changeDistance() {
		c = 0;
		l = parseInt(Math.random() * 39) * 20 + 20;
		s.innerHTML = l + 'px';
	}
	function shot() {
		if (m) {
			let n = Date.now();
			d.innerHTML = n - m + 'ms';
			m = n;
		} else {
			m = Date.now();
		}
		while (true) {
			let r = Math.random() * 360;
			let xi = parseInt(l * Math.cos(r * (Math.PI/180)));
			let yi = parseInt(l * Math.sin(r * (Math.PI/180)));
			if (x + xi >= 0 && x + xi <= 950 && y + yi >= 0 && y + yi <= 530) {
				x += xi;
				y += yi;
				break;
			}
		}
		if (++c == 10) {
			changeDistance();
		}
		refresh();
	}
</script>
</head>
<body style="align-content:center;background-color:black">
<div id='display' style="position:absolute;left:25%;top:100px;width:960px;height:540px;background-color:green;cursor:crosshair">
<div id='target' style="position:relative;display:inline-block;left:100px;top:100px;width:10px;height:10px;border-radius:5px;background-color:red" onclick="shot()"></div>
</div>
<div id='timer' style="position:relative;display:inline-block;color:white">0ms</div><br>
<div id='dist' style="position:relative;display:inline-block;color:white">0px</div>
</body>
</html>
